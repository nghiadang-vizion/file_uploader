{"ast":null,"code":"var Promise = require('bluebird');\nvar Stream = require('stream');\nvar Buffer = require('./Buffer');\n\n// Backwards compatibility for node versions < 8\nif (!Stream.Writable || !Stream.Writable.prototype.destroy) Stream = require('readable-stream');\nmodule.exports = function (entry) {\n  return new Promise(function (resolve, reject) {\n    var chunks = [];\n    var bufferStream = Stream.Transform().on('finish', function () {\n      resolve(Buffer.concat(chunks));\n    }).on('error', reject);\n    bufferStream._transform = function (d, e, cb) {\n      chunks.push(d);\n      cb();\n    };\n    entry.on('error', reject).pipe(bufferStream);\n  });\n};","map":{"version":3,"names":["Promise","require","Stream","Buffer","Writable","prototype","destroy","module","exports","entry","resolve","reject","chunks","bufferStream","Transform","on","concat","_transform","d","e","cb","push","pipe"],"sources":["/Users/dangnghia/Documents/vizion/file-uploader/client/node_modules/unzipper/lib/BufferStream.js"],"sourcesContent":["var Promise = require('bluebird');\nvar Stream = require('stream');\nvar Buffer = require('./Buffer');\n\n// Backwards compatibility for node versions < 8\nif (!Stream.Writable || !Stream.Writable.prototype.destroy)\n  Stream = require('readable-stream');\n\nmodule.exports = function(entry) {\n  return new Promise(function(resolve,reject) {\n    var chunks = [];\n    var bufferStream = Stream.Transform()\n      .on('finish',function() {\n        resolve(Buffer.concat(chunks));\n      })\n      .on('error',reject);\n        \n    bufferStream._transform = function(d,e,cb) {\n      chunks.push(d);\n      cb();\n    };\n    entry.on('error',reject)\n      .pipe(bufferStream);\n  });\n};\n"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,UAAU,CAAC;AACjC,IAAIC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAC9B,IAAIE,MAAM,GAAGF,OAAO,CAAC,UAAU,CAAC;;AAEhC;AACA,IAAI,CAACC,MAAM,CAACE,QAAQ,IAAI,CAACF,MAAM,CAACE,QAAQ,CAACC,SAAS,CAACC,OAAO,EACxDJ,MAAM,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAErCM,MAAM,CAACC,OAAO,GAAG,UAASC,KAAK,EAAE;EAC/B,OAAO,IAAIT,OAAO,CAAC,UAASU,OAAO,EAACC,MAAM,EAAE;IAC1C,IAAIC,MAAM,GAAG,EAAE;IACf,IAAIC,YAAY,GAAGX,MAAM,CAACY,SAAS,CAAC,CAAC,CAClCC,EAAE,CAAC,QAAQ,EAAC,YAAW;MACtBL,OAAO,CAACP,MAAM,CAACa,MAAM,CAACJ,MAAM,CAAC,CAAC;IAChC,CAAC,CAAC,CACDG,EAAE,CAAC,OAAO,EAACJ,MAAM,CAAC;IAErBE,YAAY,CAACI,UAAU,GAAG,UAASC,CAAC,EAACC,CAAC,EAACC,EAAE,EAAE;MACzCR,MAAM,CAACS,IAAI,CAACH,CAAC,CAAC;MACdE,EAAE,CAAC,CAAC;IACN,CAAC;IACDX,KAAK,CAACM,EAAE,CAAC,OAAO,EAACJ,MAAM,CAAC,CACrBW,IAAI,CAACT,YAAY,CAAC;EACvB,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}